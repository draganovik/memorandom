var D=Object.defineProperty;var y=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var C=(t,e,s)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,w=(t,e)=>{for(var s in e||(e={}))A.call(e,s)&&C(t,s,e[s]);if(y)for(var s of y(e))E.call(e,s)&&C(t,s,e[s]);return t};import{_ as O}from"./icon-menu.57281e8d.js";import{u as T,a as U,x as f,r as V,o as p,b as k,d as a,e as S,w as R,t as g,f as l,F as B,h as I,y as G,n as $,z as P,A as r}from"./vendor.c385f223.js";import{_ as F,a as q,b as W,c as Z,d as H,e as J,f as K,g as Q,h as X,i as Y,j as ss,k as es,l as as,m as ls,n as _s,o as cs,p as os,q as ts,r as ns,s as is,t as gs,u as rs,v as bs,w as ds,x as vs,y as ps,z as ks,A as us,B as hs,C as fs,D as ms,E as xs,F as ys,G as Cs,H as ws,I as Us,J as Ss,K as Rs,L as Gs,M as js,N as Ls,O as Ns,P as Ms,Q as zs,R as Ds,S as As,T as Es,U as Os,V as Ts,W as Vs,X as Bs,Y as Is,Z as $s,$ as Ps,a0 as Fs,a1 as qs,a2 as Ws,a3 as Zs,a4 as Hs,a5 as Js,a6 as Ks,a7 as Qs,a8 as Xs,a9 as Ys,aa as se,ab as ee,ac as ae,ad as le,ae as _e,af as ce,ag as oe,ah as te,ai as ne,aj as ie,ak as ge,al as re,am as be,an as de,ao as ve,ap as pe,aq as ke,ar as ue,as as he,at as fe,au as me,av as xe,aw as ye,ax as Ce,ay as we,az as Ue,aA as Se}from"./index.816fd010.js";class j{constructor(e){this._settings=e,this.steps=0,this._loadAssets(),this._prepareCards()}StartGame(){this._gameState="running",this.steps=0}EndGame(){this._gameState="ended"}_prepareCards(){this._cards=[];const e=Math.floor(this._settings.rows*this._settings.columns/2);let s=this._shuffleCards(this._cardSet).slice(0,e);s=s.concat(s.map(_=>w({},_)));for(let _=0;_<s.length;_++)s[_].id=_;this._cards=this._shuffleCards(s)}_shuffleCards(e){return e.map(s=>({value:s,sort:Math.random()})).sort((s,_)=>s.sort-_.sort).map(({value:s})=>s)}_loadAssets(){switch(this._settings.obverseDesign){case"developer":this._loadObverseDeveloper();break;default:this._loadObverseClassical();break}this._reverseURL=new URL({"../assets/reverse/default.png":F,"../assets/reverse/flora.png":q,"../assets/reverse/retro.png":W,"../assets/reverse/royal.png":Z}[`../assets/reverse/${this._settings.reverseDesign}.png`],self.location).href}async _loadObverseDeveloper(){this._cardSet=[];for(var e=1;e<37;e++)this._cardSet.push({faceUp:!1,imageUrl:new URL({"../assets/obverse/developer/design-back-dev-1.png":H,"../assets/obverse/developer/design-back-dev-10.png":J,"../assets/obverse/developer/design-back-dev-11.png":K,"../assets/obverse/developer/design-back-dev-12.png":Q,"../assets/obverse/developer/design-back-dev-13.png":X,"../assets/obverse/developer/design-back-dev-14.png":Y,"../assets/obverse/developer/design-back-dev-15.png":ss,"../assets/obverse/developer/design-back-dev-16.png":es,"../assets/obverse/developer/design-back-dev-17.png":as,"../assets/obverse/developer/design-back-dev-18.png":ls,"../assets/obverse/developer/design-back-dev-19.png":_s,"../assets/obverse/developer/design-back-dev-2.png":cs,"../assets/obverse/developer/design-back-dev-20.png":os,"../assets/obverse/developer/design-back-dev-21.png":ts,"../assets/obverse/developer/design-back-dev-22.png":ns,"../assets/obverse/developer/design-back-dev-23.png":is,"../assets/obverse/developer/design-back-dev-24.png":gs,"../assets/obverse/developer/design-back-dev-25.png":rs,"../assets/obverse/developer/design-back-dev-26.png":bs,"../assets/obverse/developer/design-back-dev-27.png":ds,"../assets/obverse/developer/design-back-dev-28.png":vs,"../assets/obverse/developer/design-back-dev-29.png":ps,"../assets/obverse/developer/design-back-dev-3.png":ks,"../assets/obverse/developer/design-back-dev-30.png":us,"../assets/obverse/developer/design-back-dev-31.png":hs,"../assets/obverse/developer/design-back-dev-32.png":fs,"../assets/obverse/developer/design-back-dev-33.png":ms,"../assets/obverse/developer/design-back-dev-34.png":xs,"../assets/obverse/developer/design-back-dev-35.png":ys,"../assets/obverse/developer/design-back-dev-36.png":Cs,"../assets/obverse/developer/design-back-dev-4.png":ws,"../assets/obverse/developer/design-back-dev-5.png":Us,"../assets/obverse/developer/design-back-dev-6.png":Ss,"../assets/obverse/developer/design-back-dev-7.png":Rs,"../assets/obverse/developer/design-back-dev-8.png":Gs,"../assets/obverse/developer/design-back-dev-9.png":js}[`../assets/obverse/developer/design-back-dev-${e}.png`],self.location).href})}async _loadObverseClassical(){this._cardSet=[];for(var e=1;e<52;e++)this._cardSet.push({faceUp:!1,imageUrl:new URL({"../assets/obverse/classical/design-back-classic-1.png":Ls,"../assets/obverse/classical/design-back-classic-10.png":Ns,"../assets/obverse/classical/design-back-classic-11.png":Ms,"../assets/obverse/classical/design-back-classic-12.png":zs,"../assets/obverse/classical/design-back-classic-13.png":Ds,"../assets/obverse/classical/design-back-classic-14.png":As,"../assets/obverse/classical/design-back-classic-15.png":Es,"../assets/obverse/classical/design-back-classic-16.png":Os,"../assets/obverse/classical/design-back-classic-17.png":Ts,"../assets/obverse/classical/design-back-classic-18.png":Vs,"../assets/obverse/classical/design-back-classic-19.png":Bs,"../assets/obverse/classical/design-back-classic-2.png":Is,"../assets/obverse/classical/design-back-classic-20.png":$s,"../assets/obverse/classical/design-back-classic-21.png":Ps,"../assets/obverse/classical/design-back-classic-22.png":Fs,"../assets/obverse/classical/design-back-classic-23.png":qs,"../assets/obverse/classical/design-back-classic-24.png":Ws,"../assets/obverse/classical/design-back-classic-25.png":Zs,"../assets/obverse/classical/design-back-classic-26.png":Hs,"../assets/obverse/classical/design-back-classic-27.png":Js,"../assets/obverse/classical/design-back-classic-28.png":Ks,"../assets/obverse/classical/design-back-classic-29.png":Qs,"../assets/obverse/classical/design-back-classic-3.png":Xs,"../assets/obverse/classical/design-back-classic-30.png":Ys,"../assets/obverse/classical/design-back-classic-31.png":se,"../assets/obverse/classical/design-back-classic-32.png":ee,"../assets/obverse/classical/design-back-classic-33.png":ae,"../assets/obverse/classical/design-back-classic-34.png":le,"../assets/obverse/classical/design-back-classic-35.png":_e,"../assets/obverse/classical/design-back-classic-36.png":ce,"../assets/obverse/classical/design-back-classic-37.png":oe,"../assets/obverse/classical/design-back-classic-38.png":te,"../assets/obverse/classical/design-back-classic-39.png":ne,"../assets/obverse/classical/design-back-classic-4.png":ie,"../assets/obverse/classical/design-back-classic-40.png":ge,"../assets/obverse/classical/design-back-classic-41.png":re,"../assets/obverse/classical/design-back-classic-42.png":be,"../assets/obverse/classical/design-back-classic-43.png":de,"../assets/obverse/classical/design-back-classic-44.png":ve,"../assets/obverse/classical/design-back-classic-45.png":pe,"../assets/obverse/classical/design-back-classic-46.png":ke,"../assets/obverse/classical/design-back-classic-47.png":ue,"../assets/obverse/classical/design-back-classic-48.png":he,"../assets/obverse/classical/design-back-classic-49.png":fe,"../assets/obverse/classical/design-back-classic-5.png":me,"../assets/obverse/classical/design-back-classic-50.png":xe,"../assets/obverse/classical/design-back-classic-51.png":ye,"../assets/obverse/classical/design-back-classic-6.png":Ce,"../assets/obverse/classical/design-back-classic-7.png":we,"../assets/obverse/classical/design-back-classic-8.png":Ue,"../assets/obverse/classical/design-back-classic-9.png":Se}[`../assets/obverse/classical/design-back-classic-${e}.png`],self.location).href})}getGameState(){return this._gameState}getPlayingCards(){return this._cards}getReverseURL(){return this._reverseURL}}const Re={class:"play relative p-3 h-screen"},Ge={class:"grid gap-4 grid-cols-3 grid-rows-1 h-12 lg:absolute lg:grid-cols-1 lg:grid-rows-3 lg:h-auto"},je=a("img",{class:"hover:bg-gray-700/70 h-full rounded",src:O,alt:"menu"},null,-1),Le={class:"text-center lg:text-left"},Ne=a("h1",{class:"text-gray-400"},"Vreme igre:",-1),Me={class:"text-2xl font-bold"},ze={class:"text-right lg:text-left"},De=a("h2",{class:"text-gray-400"},"Broj poteza:",-1),Ae={class:"text-2xl font-bold"},Ee=["onClick"],Oe=["src"],Te=["src"],Ve={key:0,class:"absolute left-1/2 top-1/2 flex flex-col gap-5 justify-center p-8 pt-10 w-full h-full text-center bg-gray-800 rounded opacity-95 transform -translate-x-1/2 -translate-y-1/2 md:max-w-2xl md:h-auto md:border md:border-green-700 md:opacity-100"},Be=a("p",{class:"text-6xl"},"\u{1F973}",-1),Ie=a("h1",{class:"text-green-300 text-3xl font-bold"}," Uspeh, uparili ste sve kartice! ",-1),$e={class:"text-lg"},Pe=r(" Re\u0161ili ste tabelu "),Fe=a("br",null,null,-1),qe=r(" za "),We=r(" sa "),Ze=r(" koraka "),He={class:"flex gap-4 mx-auto"},Je=r(" PO\u010CETNI MENI"),sa={setup(t){const e=T(),s=U(()=>e.state.gameSettings),_=U(()=>u.value==c.value._cards.length);let c=f(new j(s.value)),b=f("Nije po\u010Deto"),u=f(0),n=[];function L(){c.value=new j(s.value),b.value="Nije po\u010Deto",u.value=0}function N(i){i.faceUp||(c.value.getGameState()!="running"&&(c.value.StartGame(),M(Date.now())),c.value.getGameState()=="running"&&(i.faceUp=!0,n.push(i),c.value.steps++,n.length>1&&setTimeout(function(){n.length>1&&(n[0].imageUrl==n[1].imageUrl?(u.value+=2,_.value&&c.value.EndGame()):(n[0].faceUp=!1,n[1].faceUp=!1),n.splice(0,2))},1200)))}function M(i){let d=setInterval(function(){var v=new Date().getTime(),o=v-i,h=Math.floor(o/(1e3*60*60*24)),m=Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(o%(1e3*60*60)/(1e3*60)),z=Math.floor(o%(1e3*60)/1e3);b.value=(h>0?h+"d ":"")+(m>0?m+"h ":"")+(x>0?x+"m ":"")+z+"s",c.value.getGameState()=="ended"&&clearInterval(d)},1e3)}return(i,d)=>{const v=V("router-link");return p(),k("main",Re,[a("section",Ge,[a("div",null,[S(v,{to:"/"},{default:R(()=>[je]),_:1})]),a("div",Le,[Ne,a("p",Me,g(l(b)),1)]),a("div",ze,[De,a("p",Ae,g(l(c).steps),1)])]),a("section",{class:G(["board grid gap-1 m-auto mt-8 p-2 lg:mt-20",{dimmed:l(_)}]),style:$({gridTemplateColumns:"repeat("+l(s).columns+", 1fr)",maxWidth:"calc((90vh - 5.5rem) * "+l(s).columns*.705/l(s).rows+")"})},[(p(!0),k(B,null,I(l(c).getPlayingCards(),o=>(p(),k("button",{key:o.id,class:"flip-card hover:translate-x-1 hover:rotate-3",onClick:h=>N(o)},[a("div",{class:G(["flip-card-inner ratio-narrow",{flip:o.faceUp}])},[a("img",{class:"flip-card-reverse w-full",src:l(c).getReverseURL(),alt:"Zadnja strana"},null,8,Oe),a("img",{class:"flip-card-obverse",src:o.imageUrl,alt:"Prednja strana"},null,8,Te)],2)],8,Ee))),128))],6),l(_)?(p(),k("section",Ve,[Be,Ie,a("p",$e,[Pe,a("b",null,g(l(s).columns)+"x"+g(l(s).rows),1),Fe,qe,a("b",null,g(l(b)),1),We,a("b",null,g(l(c).steps),1),Ze]),a("div",He,[a("button",{class:"button",onClick:d[0]||(d[0]=o=>L())},"NOVA IGRA"),S(v,{to:"/",class:"button"},{default:R(()=>[Je]),_:1})])])):P("",!0)])}}};export{sa as default};
